//**************************** vmm_offc **********************************
if (blk_name.entries(bl) == "vmm_offc") then
    for ss=1:scs_m.objs(bl).model.ipar(1)
        mputl("# vmm_offc "+string(bl)+" "+string(scs_m.objs(bl).model.ipar(2))+" "+string(ss),fd_w);
sci2blif_str= ".subckt vmm_offc"+" in[0]=net"+string(blk(blk_objs(bl),2))+"_"+string(ss)+" in[1]=net"+string(blk(blk_objs(bl),3))+"_"+string(ss)+" in[2]=net"+string(blk(blk_objs(bl),4))+"_"+string(ss)+" in[3]=net"+string(blk(blk_objs(bl),5))+"_"+string(ss)+" in[4]=net"+string(blk(blk_objs(bl),6))+"_"+string(ss)+" in[5]=net"+string(blk(blk_objs(bl),7))+"_"+string(ss)+" in[6]=net"+string(blk(blk_objs(bl),8))+"_"+string(ss)+" in[7]=net"+string(blk(blk_objs(bl),9))+"_"+string(ss)+" in[8]=net"+string(blk(blk_objs(bl),10))+"_"+string(ss)+" in[9]=net"+string(blk(blk_objs(bl),11))+"_"+string(ss)+" in[10]=net"+string(blk(blk_objs(bl),12))+"_"+string(ss)+" in[11]=net"+string(blk(blk_objs(bl),13))+"_"+string(ss)+" in[12]=net"+string(blk(blk_objs(bl),14))+"_"+string(ss)+" out[0]=net"+string(blk(blk_objs(bl),2+numofip))+"_"+string(ss)+" out[1]=net"+string(blk(blk_objs(bl),3+numofip))+"_"+string(ss)+" #vmm_offc_ls =0"+"&vmm_offc_w16n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(1-1)+ss)))+"&vmm_offc_w26n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(2-1)+ss)))+"&vmm_offc_w16p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(3-1)+ss)))+"&vmm_offc_w26p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(4-1)+ss)))+"&vmm_offc_w15n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(5-1)+ss)))+"&vmm_offc_w25n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(2+4-1)+ss)))+"&vmm_offc_w15p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(3+4-1)+ss)))+"&vmm_offc_w25p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(4+4-1)+ss)))+"&vmm_offc_w14n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(5+4-1)+ss)))+"&vmm_offc_w24n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(6+4-1)+ss)))+"&vmm_offc_w14p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(7+4-1)+ss)))+"&vmm_offc_w24p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(8+4-1)+ss)))+"&vmm_offc_w13n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(9+4-1)+ss)))+"&vmm_offc_w23n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(10+4-1)+ss)))+"&vmm_offc_w13p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(11+4-1)+ss)))+"&vmm_offc_w23p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(12+4-1)+ss)))+"&vmm_offc_w12n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(13+4-1)+ss)))+"&vmm_offc_w22n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(14+4-1)+ss)))+"&vmm_offc_w12p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(15+4-1)+ss)))+"&vmm_offc_w22p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(16+4-1)+ss)))+"&vmm_offc_w11n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(17+4-1)+ss)))+"&vmm_offc_w21n ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(18+4-1)+ss)))+"&vmm_offc_w11p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(19+4-1)+ss)))+"&vmm_offc_w21p ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(20+4-1)+ss)))+"&vmm_offc_o2_fgibias ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(21+4-1)+ss)))+"&vmm_offc_o1_fgibias ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(22+4-1)+ss)))+"&vmm_offc_o1_ibias =10e-6"+"&vmm_offc_o2_ibias =10e-6"+"&vmm_offc_o2_pbias =10e-9"+"&vmm_offc_o2_nbias =10e-9"+"&vmm_offc_o1_pbias =3e-9"+"&vmm_offc_o1_nbias =3e-9"+"&vmm_offc_off1_ibias =10e-9"+"&vmm_offc_off2_ibias =10e-9"


//+"&vmm_offc_row2_ibias ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(21-1)+ss)))+"&vmm_offc_row1_ibias ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(22-1)+ss)))+"&vmm_offc_row2_fgbias ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(23-1)+ss)))
//+"&vmm_offc_row1_fgbias ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(24-1)+ss)))
//+"&vmm_offc_row2_pbias ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(25-1)+ss)))
//+"&vmm_offc_row1_pbias ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(26-1)+ss)))
//+"&vmm_offc_row2_nbias ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(27-1)+ss)))
//+"&vmm_offc_row1_nbias ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(28-1)+ss)))
//+"&vmm_offc_row2_cap ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(29-1)+ss)))
//+"&vmm_offc_row1_cap ="+string(sprintf('%e',scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(30-1)+ss)))

        mputl(sci2blif_str,fd_w);
        mputl("  ",fd_w);
        if scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(23+4-1)+1) == 1 then
            plcvpr = %t;
            plcloc=[plcloc;'net'+string(blk(blk_objs(bl),2+numofip))+"_"+string(ss),string(scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(23+4-1)+1+2*ss-1))+' '+string(scs_m.objs(bl).model.rpar(scs_m.objs(bl).model.ipar(1)*(23+4-1)+1+2*ss))+' 0'];
        end
    end
end
